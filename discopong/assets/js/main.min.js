var a=document.getElementById("canvas"),b=a.getContext("2d");window.setInterval(c,1E3/60);var d=!0,e=null,f=canvas.width/1280,g=canvas.height/720,h=canvas.width/2,l=canvas.height/2,m=null,n=null,p=20*g,q=70*g,r=150*g,t=10*f,u=10*g,v=0,w=(canvas.height-r)/2,x=!1,y=!1,z=0,A=(canvas.height-r)/2,B=!1,C=!1,e=randomColor();b.fillStyle=e;switch(Math.floor(4*Math.random())){case 0:m=9;n=-11;break;case 1:m=9;n=11;break;case 2:m=-9;n=11;break;case 3:m=-9,n=-11}
function c(){b.clearRect(0,0,canvas.width,canvas.height);b.beginPath();b.arc(h,l,p,0,2*Math.PI);b.fill();b.closePath();h+=m;l+=n;b.beginPath();b.rect(t,w,t,r);b.fill();b.closePath();b.beginPath();b.rect(canvas.width-2*t,A,t,r);b.fill();b.closePath();b.beginPath();b.font=q+"px 'Roboto'";b.fillText(v,canvas.width/4,100);b.fillText(z,canvas.width-canvas.width/4,100);b.setLineDash([25*g,20*g]);b.strokeStyle=e;b.lineWidth=10*f;b.moveTo(canvas.width/2,0);b.lineTo(canvas.width/2,canvas.height);b.stroke();
b.closePath();b.beginPath();b.setLineDash([0,0]);b.moveTo(0,0);b.lineTo(canvas.width,0);b.stroke();b.moveTo(0,canvas.height);b.lineTo(canvas.width,canvas.height);b.stroke();b.closePath();if(l+n>canvas.height-p||l+n<p)n=-n,e=randomColor(),b.fillStyle=e,a.style.borderColor=e;l>w&&l<w+r&&h-p<t&&(m=-m,e=randomColor({a:"bright"}),b.fillStyle=e,a.style.borderColor=e);l>A&&l<A+r&&h+p>canvas.width-t&&(m=-m,e=randomColor({a:"bright"}),b.fillStyle=e,a.style.borderColor=e);l+p>w&&0>h&&h<t&&(n=-n,e=randomColor({a:"bright"}),
b.fillStyle=e,a.style.borderColor=e);d?d&&(l<w-p-2&&5<w&&h<canvas.width/3?w-=u:l>w+r+p+2&&w<canvas.height-r-5&&h<canvas.width/3&&(w+=u)):x&&5<w?w-=u:y&&w<canvas.height-r-5&&(w+=u);B&&5<A?A-=u:C&&A<canvas.height-r-5&&(A+=u);if(h+m>canvas.width+p)switch(v+=1,h=canvas.width/2,l=canvas.height/2,Math.floor(4*Math.random())){case 0:m=9;n=11;break;case 1:m=11;n=-9;break;case 2:m=9;n=-11;break;case 3:m=11,n=9}h+m<0-p&&(z+=1,h=canvas.width/2,l=canvas.height/2,n=m=5)}
document.addEventListener("keydown",function(k){87==k.keyCode?x=!0:83==k.keyCode&&(y=!0);38==k.keyCode?B=!0:40==k.keyCode&&(C=!0);70==k.keyCode&&a.webkitRequestFullscreen();82==k.keyCode&&(h=canvas.width/2,l=canvas.height/2,n=m=5,v=0,w=(canvas.height-r)/2,y=x=!1,z=0,A=(canvas.height-r)/2,C=B=!1);113==k.keyCode&&(d=!d)},!1);document.addEventListener("keyup",function(k){87==k.keyCode?x=!1:83==k.keyCode&&(y=!1);38==k.keyCode?B=!1:40==k.keyCode&&(C=!1)},!1);
